<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="/ex-css/Grid.css">
  <link rel="stylesheet" href="/ex-css/ionicons.min.css">
  <link rel="stylesheet" href="/ex-css/normalize.css">
  <link rel="stylesheet" href="/ex-css/animate.css">
    <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/addquestion.css">
    <title>Q-A Forum</title>
</head>
<body>
    <div class="mainContainer">
        <div class="question-form">
            <div class="headerQuestion">
                <h2>Reply</h2>
            </div>
            <div class="place">
                 <form action="/reply/<%=id%>" method="POST" class="form animated bounceIn">
                    <div class="input-container2">                    
                      <span class="inputerror1" id="replyTextce">Text required*</span>
                    <textarea name="content" id="content" cols="30" rows="10"></textarea>
                    </div>
                    <button type="submit" class="btn" id="rbtnc">Reply</button>
                  </form>
            </div>
        </div>
    </div>

    <script src="/ckeditor/ckeditor.js"></script>
    <script>
    CKEDITOR.config.autoParagraph = false;
    CKEDITOR.config.entities = false; 
    CKEDITOR.config.fillEmptyBlocks = false;
    CKEDITOR.config.tabSpaces = 0;
    CKEDITOR.config.basicEntities = false;
    CKEDITOR.config.entities_greek = false; 
    CKEDITOR.config.entities_latin = false;
      CKEDITOR.replace('content');

var editor3 = CKEDITOR.instances.content;
var replyTextce = document.getElementById('replyTextce');
var rbtnc = document.getElementById('rbtnc');

// reply validation function
function replyValidation(){
    var textbox_data = CKEDITOR.instances.content.getData();
if(textbox_data.length > 99){
    replyTextce.innerHTML = "must be less than 100 charecters*";
    rbtnc.setAttribute('disabled' , 'disabled');
    rbtnc.style.cursor = 'no-drop';
} 

else if(textbox_data.length < 5){
    replyTextce.innerHTML = "must be greater than 5 charecters*";
    rbtnc.setAttribute('disabled' , 'disabled');
    rbtnc.style.cursor = 'no-drop'
}

else if(textbox_data == ""){
    replyTextce.innerHTML = "Text  required*";
    rbtnc.setAttribute('disabled' , 'disabled');
    rbtnc.style.cursor = 'no-drop';
} else{
    replyTextce.innerHTML = "";
    rbtnc.removeAttribute('disabled');
    rbtnc.style.cursor = 'pointer'
}
}

editor3.on('key' , (e)=>{
        replyValidation();
      })
      
rbtnc.addEventListener('mouseenter' , (e)=>{
    e.preventDefault();
    replyValidation();
});
    </script>
</body>
</html>